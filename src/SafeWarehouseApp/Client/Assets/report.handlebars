
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.0.3/tailwind.min.css" integrity="sha512-wl80ucxCRpLkfaCnbM88y4AxnutbGk327762eM9E/rRTvY/ZGAHWMZrYUq66VQBYMIYDFpDdJAOGSLyIPHZ2IQ==" crossorigin="anonymous" />

<style>
    .report, .report td {
        font-size: 12pt;
        line-height: 1.5em;
        font-family: 'Roboto', sans-serif;
    }

    .page {
        page-break-after: always;
    }

    .schematic {
        position: relative;
    }

    .schematic img {
        /* width: unset;
        height: unset;
        max-width: unset;
        max-height: unset; */
    }

    .schematic .location {
        position: absolute;
        top: 50%;
        left: 50%;
        width: 6em;
        height: 6em;
        border: 2px solid rgba(219, 39, 119, 1);
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.75);
        cursor: move;
        touch-action: none;
        user-select: none;
    }
</style>

<div class="report">
    <!-- Customer & report details -->
    <div class="page">
        <div class="flex h-full">
            <div class="flex flex-col justify-center flex-grow mx-auto max-w-md">
                <div class="grid grid-cols-2 gap-4">
                    <div>Bedrijfsnaam:</div>
                    <div>{{CompanyName}}</div>

                    <div>Datum</div>
                    <div>{{ReportDate}}</div>

                    <div>Contactpersoon:</div>
                    <div>{{ContactName}}</div>

                    <div>Plaats:</div>
                    <div>{{City}}</div>

                    <div>Adres:</div>
                    <div>{{Address}}</div>

                    <div>Volgende keuring vόόr:</div>
                    <div>{{NextExaminationBefore}}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Schematic -->
    <div class="page">
        <div class="m-10">
            <div class="schematic">
                <img src="{{SchematicData}}" alt="" width="800" height="800" />
                {{#each Locations}}
                    <div class="location flex flex-col justify-center" style="left: {{Left}}px; top: {{Top}}px; width: {{Width}}px; height: {{Height}}px;">
                        <span class="text-2xl font-semibold text-pink-500 text-center">{{Number}}</span>
                    </div>
                {{/each}}
            </div>
        </div>
    </div>

    <!-- Damages overview -->
    <div class="page p-10">
        <div class="grid grid-cols-3 gap-4">
            {{#each Locations}}
                {{#each Damages}}
                    {{#each DamagePictures}}
                        <div>
                            <div class="bg-gray-100 p-3">
                                <img src="{{PictureData}}" alt="" />
                            </div>
                        </div>
                        <div>
                            <ul class="list-disc pl-5">
                                {{#each ../RequiredMaterials}}
                                    <li>{{this}}</li>
                                {{/each}}
                            </ul>
                        </div>
                        <div>
                            <p><span class="font-bold">{{../../Number}}.{{../Number}}.{{Number}}</span></p>
                            <p>{{../DamageType}}</p>
                            <p>{{../../Description}}</p>
                        </div>
                    {{/each}}
                {{/each}}
            {{/each}}
        </div>
    </div>

    <!-- Damages details -->
    <div class="page p-10">
        <div class="grid grid-cols-2 gap-4">
            {{#each Locations}}
                {{#each Damages}}
                    {{#each DamagePictures}}
                        <div>
                            <div class="bg-gray-100 p-3">
                                <img src="{{PictureData}}" alt="" />
                            </div>
                        </div>
                        <div>
                            <p><span class="font-bold">{{../../Number}}.{{../Number}}.{{Number}}</span></p>
                            <p>{{../DamageType}}</p>
                            <p>{{../../Description}}</p>
                            <p>{{Description}}</p>
                        </div>
                    {{/each}}
                {{/each}}
            {{/each}}
        </div>
    </div>

    <!-- Damages details -->
    <div class="page p-10">
        <div class="mx-auto max-w-full">
            <div class="grid grid-cols-6 gap-4 text-center">
                <div class="font-bold col-span-1">Aantal</div>
                <div class="font-bold col-span-5">Naam</div>

                {{#each RequiredMaterials}}
                    <div class="col-span-1">{{Quantity}}</div>
                    <div class="col-span-5">{{Material}}</div>
                {{/each}}
            </div>
        </div>
    </div>
</div>